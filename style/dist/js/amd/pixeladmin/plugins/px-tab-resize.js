!function(e,t){if("function"==typeof define&&define.amd)define(["exports","jquery","px/util","px-bootstrap/tab"],t);else if("undefined"!=typeof exports)t(exports,require("jquery"),require("px/util"),require("px-bootstrap/tab"));else{var n={exports:{}};t(n.exports,e.jquery,e.util,e.tab),e.pxTabResize=n.exports}}(this,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=o(t),s=o(n),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=function(e){var t="pxTabResize",n="px.tab-resize",o="."+n,r=e.fn[t],f={template:'\n<li class="dropdown">\n  <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"></a>\n  <ul class="dropdown-menu"></ul>\n</li>',content:'<span class="tab-resize-icon"></span>'},l={TAB_RESIZE:"tab-resize",TAB_RESIZE_NAV:"tab-resize-nav",SHOW:"show",ACTIVE:"active"},d={NAV_ITEMS:"> li:not(.tab-resize)",NAV_LINK:"> a",DROPDOWN_TOGGLE:"> .dropdown-toggle",DROPDOWN_MENU:"> .dropdown-menu",DROPDOWN_ITEMS:"> li"},c={RESIZE:"resize"+o,SHOWN:"shown.bs.tab"+o},p=function(){function r(e,t){i(this,r),this.uniqueId=s.default.generateUniqueId(),this.config=this._getConfig(t),this.element=e,s.default.addClass(e,l.TAB_RESIZE_NAV),this.navItem=this._createNavItemElement(),this.navLink=this._getNavLinkElement(),this.dropdown=this._getDropdownElement(),this._setListeners(),this.placeTabs()}return u(r,[{key:"placeTabs",value:function(){this._resetDropdown();var t=e(this.element).find(d.NAV_ITEMS),n=t.length-1,o=t[n],i=o?t[0].offsetTop:0;if(!o||o.offsetTop<=i)return void s.default.removeClass(this.navItem,l.SHOW);for(s.default.addClass(this.navItem,l.SHOW);o&&!(o.offsetTop<=i);)this._moveItemToDropdown(o),o=t[--n]}},{key:"destroy",value:function(){this._unsetListeners(),this._resetDropdown(),this.navItem.remove(),s.default.removeClass(this.element,l.TAB_RESIZE_NAV),e(this.element).removeData(n)}},{key:"_createNavItemElement",value:function(){var t=e(this.config.template).addClass(l.TAB_RESIZE)[0];return this.element.insertBefore(t,this.element.firstChild),t}},{key:"_getNavLinkElement",value:function(){return e(this.navItem).find(d.DROPDOWN_TOGGLE).html(this.config.content)[0]}},{key:"_getDropdownElement",value:function(){return e(this.navItem).find(d.DROPDOWN_MENU)[0]}},{key:"_moveItemToDropdown",value:function(t){e(this.dropdown).prepend(t),s.default.hasClass(t,l.ACTIVE)&&(s.default.addClass(this.navItem,l.ACTIVE),this.navLink.innerHTML=e(t).find(d.NAV_LINK)[0].innerHTML)}},{key:"_resetDropdown",value:function(){s.default.removeClass(this.navItem,l.ACTIVE),this.navLink.innerHTML=this.config.content,e(this.element).append(e(this.dropdown).find(d.DROPDOWN_ITEMS))}},{key:"_setListeners",value:function(){e(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,e.proxy(this.placeTabs,this)),e(this.element).on(this.constructor.Event.SHOWN,e.proxy(this.placeTabs,this))}},{key:"_unsetListeners",value:function(){e(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId),e(this.element).off(o)}},{key:"_getConfig",value:function(t){return e.extend({},this.constructor.Default,t)}}],[{key:"_jQueryInterface",value:function(t){return this.each(function(){var o=e(this).data(n),i="object"===("undefined"==typeof t?"undefined":a(t))?t:null;if(o||(o=new r(this,i),e(this).data(n,o)),"string"==typeof t){if(!o[t])throw new Error('No method named "'+t+'"');o[t]()}})}},{key:"Default",get:function(){return f}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return n}},{key:"Event",get:function(){return c}},{key:"EVENT_KEY",get:function(){return o}}]),r}();return e.fn[t]=p._jQueryInterface,e.fn[t].Constructor=p,e.fn[t].noConflict=function(){return e.fn[t]=r,p._jQueryInterface},p}(r.default);e.default=f});