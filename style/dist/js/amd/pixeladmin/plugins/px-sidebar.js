!function(e,t){if("function"==typeof define&&define.amd)define(["exports","jquery","px/util","px/pixeladmin","px-libs/perfect-scrollbar.jquery"],t);else if("undefined"!=typeof exports)t(exports,require("jquery"),require("px/util"),require("px/pixeladmin"),require("px-libs/perfect-scrollbar.jquery"));else{var n={exports:{}};t(n.exports,e.jquery,e.util,e.pixeladmin,e.perfectScrollbar),e.pxSidebar=n.exports}}(this,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=i(t),s=i(n),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){var t="pxSidebar",n="px.sidebar",i="."+n,o=".data-api",u=e.fn[t],c={width:null,enableScrollbar:!0,desktopMode:["lg","xl"]},f={NAVBAR_FIXED:"px-navbar-fixed",LEFT:"px-sidebar-left"},h={RESIZE:"resize"+i,SCROLL:"scroll"+i,CLICK_DATA_API:"click"+i+o,EXPAND:"expand"+i,EXPANDED:"expanded"+i,COLLAPSE:"collapse"+i,COLLAPSED:"collapsed"+i},d={DATA_TOGGLE:'[data-toggle="sidebar"]',CONTENT:".px-sidebar-content",NAVBAR_HEADER:"> .px-navbar .navbar-header"},p=function(){function o(t,n){r(this,o),this.uniqueId=s.default.generateUniqueId(),this.element=t,this.$content=e(t).find(d.CONTENT),this.parent=t.parentNode,this.config=this._getConfig(n),this._isRtl="rtl"===e("html").attr("dir"),this._setWidth(),this._setScrollbar(),this._checkMode(),this._setListeners()}return a(o,[{key:"toggle",value:function(){this._triggerPreventableEvent(s.default.hasClass(this.element,"open")?"COLLAPSE":"EXPAND",this.element)&&(s.default.toggleClass(this.element,"open"),this._triggerEvent(s.default.hasClass(this.element,"open")?"EXPANDED":"COLLAPSED",this.element))}},{key:"update",value:function(){var t=e(this.parent).find(d.NAVBAR_HEADER);if(t.length){var n=t.height();if(s.default.hasClass(this.parent,f.NAVBAR_FIXED)||!this._positioning)this.element.style.top=n+"px";else{var i=this.parent===document.body?document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop:this.parent.scrollTop;this.element.style.top=i>n?"0px":n-i+"px"}}this.config.enableScrollbar&&this.$content.perfectScrollbar("update")}},{key:"destroy",value:function(){this._unsetListeners(),this._unsetScrollbar(),e(this.element).removeData(n)}},{key:"_setWidth",value:function(){var t=parseInt(this.config.width||e(this.element).width(),10),n=void 0;n=this._isRtl?s.default.hasClass(this.element,f.LEFT)?"right":"left":s.default.hasClass(this.element,f.LEFT)?"left":"right",this.element.style.width=t+"px",this.element.style[n]="-"+t+"px"}},{key:"_checkMode",value:function(){this._positioning=this.config.desktopMode.indexOf(window.PixelAdmin.getScreenSize())!==-1,this.update()}},{key:"_setScrollbar",value:function(){if(this.config.enableScrollbar){if(!this.$content.length)throw new Error(".px-sidebar-content element is not found.");this.$content.perfectScrollbar()}}},{key:"_unsetScrollbar",value:function(){this.config.enableScrollbar&&this.$content.length&&this.$content.perfectScrollbar("destroy")}},{key:"_triggerEvent",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e(this.element).trigger(e.Event(this.constructor.Event[t],{target:n}),[i])}},{key:"_triggerPreventableEvent",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.Event(this.constructor.Event[t],{target:n});return e(this.element).trigger(r,[i]),!r.isDefaultPrevented()}},{key:"_setListeners",value:function(){e(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,e.proxy(this._checkMode,this)).on(this.constructor.Event.SCROLL+"."+this.uniqueId,e.proxy(this.update,this))}},{key:"_unsetListeners",value:function(){e(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId).off(this.constructor.Event.SCROLL+"."+this.uniqueId)}},{key:"_getConfig",value:function(t){return e.extend({},this.constructor.Default,e(this.element).data(),t)}}],[{key:"_jQueryInterface",value:function(t){return this.each(function(){var i=e(this).data(n),r="object"===("undefined"==typeof t?"undefined":l(t))?t:null;if(i||(i=new o(this,r),e(this).data(n,i)),"string"==typeof t){if(!i[t])throw new Error('No method named "'+t+'"');i[t]()}})}},{key:"Default",get:function(){return c}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return n}},{key:"Event",get:function(){return h}},{key:"EVENT_KEY",get:function(){return i}}]),o}();return e(document).on(h.CLICK_DATA_API,d.DATA_TOGGLE,function(t){t.preventDefault();var i=this.getAttribute("data-target"),r=i?e(i)[0]:null;r&&(e(r).data(n)||p._jQueryInterface.call(e(r),e(this).data()),p._jQueryInterface.call(e(r),"toggle"))}),e.fn[t]=p._jQueryInterface,e.fn[t].Constructor=p,e.fn[t].noConflict=function(){return e.fn[t]=u,p._jQueryInterface},p}(o.default);e.default=u});