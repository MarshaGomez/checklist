!function(e,t){if("function"==typeof define&&define.amd)define(["exports","jquery","px/util","px-bootstrap/transition","px-bootstrap/collapse","px-bootstrap/dropdown","px-libs/perfect-scrollbar.jquery"],t);else if("undefined"!=typeof exports)t(exports,require("jquery"),require("px/util"),require("px-bootstrap/transition"),require("px-bootstrap/collapse"),require("px-bootstrap/dropdown"),require("px-libs/perfect-scrollbar.jquery"));else{var r={exports:{}};t(r.exports,e.jquery,e.util,e.transition,e.collapse,e.dropdown,e.perfectScrollbar),e.pxNavbar=r.exports}}(this,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var l=n(t),i=n(r),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e){var t="pxNavbar",r="px.navbar",n="."+r,l=".data-api",s=e.fn[t],c={NAVBAR:"px-navbar",INNER:"px-navbar-collapse-inner",IN:"in",COLLAPSED:"collapsed"},u={DATA_TOGGLE:'.navbar-toggle[data-toggle="collapse"]',DROPDOWN_TOGGLE:'.dropdown-toggle[data-toggle="dropdown"]',COLLAPSE:".navbar-collapse",DROPDOWN:".dropdown"},p={CLICK_DATA_API:"click"+n+l,RESIZE:"resize"+n,CLICK:"click"+n,MOUSEDOWN:"mousedown"+n,COLLAPSE_SHOW:"show.bs.collapse"+n,COLLAPSE_SHOWN:"shown.bs.collapse"+n,COLLAPSE_HIDDEN:"hidden.bs.collapse"+n,DROPDOWN_SHOWN:"shown.bs.dropdown"+n,DROPDOWN_HIDDEN:"hidden.bs.dropdown"+n},d=function(){function l(t){if(o(this,l),!e.fn.perfectScrollbar)throw new Error('Scrolling feature requires the "perfect-scrollbar" plugin included.');this.uniqueId=i.default.generateUniqueId(),this.element=t,this.$collapse=e(t).find(u.COLLAPSE),this.$toggle=e(t).find(u.DATA_TOGGLE),this._scrollbarEnabled=0,this._curScrollTop=0,this.$collapse.length&&this.$toggle.length&&(this.$inner=this._setupInnerContainer(),this._setListeners())}return a(l,[{key:"updateScrollbar",value:function(){this._scrollbarEnabled&&(this._updateHeight(),this.$inner.scrollTop(this._curScrollTop).perfectScrollbar("update"))}},{key:"destroy",value:function(){this._unsetListeners(),this._disableScrollbar(),this.$collapse.append(this.$inner.find("> *")),this.$inner.remove(),e(this.element).removeData(r)}},{key:"_updateHeight",value:function(){var t=e(window).height()-this.$collapse[0].offsetTop;this.$collapse.height("");var r=this.$collapse.height();r>t&&this.$collapse.height(t+"px")}},{key:"_enableScrollbar",value:function(){this._scrollbarEnabled||(this._updateHeight(),this.$inner.perfectScrollbar({suppressScrollX:!0}),this._scrollbarEnabled=1)}},{key:"_disableScrollbar",value:function(){this._scrollbarEnabled&&(this.$collapse.height(""),this.$inner.perfectScrollbar("destroy"),this._scrollbarEnabled=0)}},{key:"_setupInnerContainer",value:function(){var t=e('<div class="'+c.INNER+'"></div>');return t.append(this.$collapse.find("> *")),this.$collapse.append(t),t}},{key:"_setListeners",value:function(){var t=this,r=this;e(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,function(){t._scrollbarEnabled&&(t.$toggle.is(":visible")?(t._curScrollTop=t.$inner[0].scrollTop,t.updateScrollbar()):(t._disableScrollbar(),t.$collapse.removeClass(c.IN),t.$toggle.addClass(c.COLLAPSED),t.$collapse.attr("aria-expanded","false"),t.$toggle.attr("aria-expanded","false")))}),e(this.element).on(this.constructor.Event.COLLAPSE_SHOW,u.COLLAPSE,function(){t.$collapse.find(".dropdown.open").removeClass("open")}).on(this.constructor.Event.COLLAPSE_SHOWN,u.COLLAPSE,function(){t._enableScrollbar()}).on(this.constructor.Event.COLLAPSE_HIDDEN,u.COLLAPSE,function(){t._disableScrollbar()}).on(this.constructor.Event.DROPDOWN_SHOWN+" "+this.constructor.Event.DROPDOWN_HIDDEN,u.DROPDOWN,function(){t.updateScrollbar()}).on(this.constructor.Event.MOUSEDOWN,u.DROPDOWN_TOGGLE,function(){return!t._scrollbarEnabled||void(t._curScrollTop=t.$inner[0].scrollTop)}).on(this.constructor.Event.CLICK,u.DROPDOWN_TOGGLE,function(e){return!r._scrollbarEnabled||("#"===this.getAttribute("href")||(e.preventDefault(),e.stopPropagation(),this.removeAttribute("data-toggle"),this.click(),void this.setAttribute("data-toggle","dropdown")))})}},{key:"_unsetListeners",value:function(){e(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId),e(this.element).off(n)}}],[{key:"_jQueryInterface",value:function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return this.each(function(){var n=e(this).data(r);if(n||(n=new l(this),e(this).data(r,n),e.support.transition||"true"!==e(this).find(u.DATA_TOGGLE).attr("aria-expanded")||n._enableScrollbar()),"string"==typeof t){if(!n[t])throw new Error('No method named "'+t+'"');n[t].apply(n,o)}})}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return r}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return n}}]),l}();return e(document).on(p.CLICK_DATA_API,"."+c.NAVBAR+" "+u.DATA_TOGGLE,function(t){t.preventDefault();var n=e(this).parents("."+c.NAVBAR);n.length&&(n.data(r)||d._jQueryInterface.call(n))}),e.fn[t]=d._jQueryInterface,e.fn[t].Constructor=d,e.fn[t].noConflict=function(){return e.fn[t]=s,d._jQueryInterface},d}(l.default);e.default=s});